<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>All uBlock Origin Filters - Live Combined</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 1rem;
      background: #121212;
      color: #eee;
      display: flex;
      flex-direction: column;
      min-height: 100vh;
    }

    h1 {
      font-size: 1.8rem;
      line-height: 1.4;
      margin-bottom: 0.5rem;
    }

    #lastUpdated {
      font-size: 0.9rem;
      color: #aaa;
      margin-bottom: 0.7rem;
    }

    #buttons {
      margin-bottom: 1rem;
    }

    .ripple-button {
      position: relative;
      overflow: hidden;
      background-color: #1f1f1f;
      border: 1px solid #2e2e2e;
      color: #fff;
      padding: 0.6rem 1.2rem;
      margin-right: 0.5rem;
      font-size: 1rem;
      border-radius: 6px;
      cursor: pointer;
      transition: background-color 0.2s ease, border-color 0.2s ease;
    }

    .ripple-button:hover {
      background-color: #2a2a2a;
      border-color: #444;
    }

    .ripple {
      position: absolute;
      border-radius: 50%;
      transform: scale(0);
      animation: ripple 0.6s linear;
      background-color: rgba(255, 255, 255, 0.3);
      pointer-events: none;
    }

    @keyframes ripple {
      to {
        transform: scale(4);
        opacity: 0;
      }
    }

    #copyMessage {
      display: inline-block;
      margin-left: 0.5rem;
      color: #0f0;
      font-weight: bold;
      visibility: hidden;
    }

    #content {
      white-space: pre-wrap;
      background: #1a1a1a;
      border-radius: 5px;
      padding: 1rem;
      max-height: 75vh;
      overflow-y: scroll;
      font-family: monospace;
      font-size: 0.85rem;
      line-height: 1.3;
      flex-grow: 1;
    }

    #progress {
      margin-bottom: 1rem;
      font-size: 0.95rem;
      color: #ccc;
    }
  </style>
</head>
<body>

<h1>üìú All uBlock Origin Filters in One Place ‚Äî Updated Live üîÑ<br>
üö´ Recommended Rules from All Sources üõ°Ô∏è<br>
üß† Just Copy and Paste ‚Äî All-in-One! ‚ú®</h1>

<div id="lastUpdated">Last updated: loading...</div>

<div id="buttons">
  <button class="ripple-button" id="updateBtn" title="Fetch latest filters">üîÑ Update Now</button>
  <button class="ripple-button" id="copyBtn" title="Copy all filters to clipboard">üìã Copy All Filters</button>
  <span id="copyMessage">Copied to clipboard!</span>
</div>

<div id="progress">Loading filters... 0%</div>
<div id="content">Loading filters, please wait...</div>

<!-- Disclaimer with ripple effect -->
<div id="disclaimerContainer" class="ripple-button" style="margin-top: 2rem; text-align: center; font-size: 0.85rem; background: #1f1f1f; color: #bbb; border: 1px solid #2e2e2e;">
  ‚ö†Ô∏è This webpage may become unresponsive or feel laggy on some devices due to simultaneous filters loading from multiple servers.  
  üöÄ We always optimize our website for speed.  
  üîÑ This site updates every minute.  
  üë®‚Äçüíª By <strong>BHARGAV.T</strong>  
  üìß Contact: <a href="mailto:bhargavtodimela4@gmail.com" style="color: #66ccff;">bhargavtodimela4@gmail.com</a>
</div>

<script>
const urls = [
  "https://cdn.statically.io/gh/uBlockOrigin/uAssetsCDN/main/filters/filters.min.txt",
  "https://cdn.statically.io/gh/uBlockOrigin/uAssetsCDN/main/thirdparties/easylist.txt",
  "https://filters.adtidy.org/extension/ublock/filters/2_without_easylist.txt",
  "https://ublockorigin.pages.dev/thirdparties/easyprivacy.txt",
  "https://filters.adtidy.org/extension/ublock/filters/2_without_easylist.txt",
  "https://filters.adtidy.org/extension/ublock/filters/3.txt",
  "https://ublockorigin.github.io/uAssetsCDN/filters/badware.min.txt",
  "https://cdn.statically.io/gh/uBlockOrigin/uAssetsCDN/main/filters/badware.min.txt",
  "https://cdn.statically.io/gh/uBlockOrigin/uAssetsCDN/main/filters/privacy.min.txt",
  "https://malware-filter.gitlab.io/urlhaus-filter/urlhaus-filter-ag-online.txt"
];

const contentEl = document.getElementById("content");
const lastUpdatedEl = document.getElementById("lastUpdated");
const updateBtn = document.getElementById("updateBtn");
const copyBtn = document.getElementById("copyBtn");
const copyMessage = document.getElementById("copyMessage");
const progressEl = document.getElementById("progress");

let lastFetchTime = null;

async function fetchAllFilters() {
  contentEl.textContent = "";
  progressEl.textContent = "Loading filters... 0%";

  let combinedText = "";
  let completed = 0;

  for (let i = 0; i < urls.length; i++) {
    try {
      const response = await fetch(urls[i]);
      const text = response.ok ? await response.text() : `# ERROR loading: ${urls[i]}`;
      combinedText += `\n\n# ======= FILTER SOURCE ${i + 1} =======\n\n${text}`;
    } catch (err) {
      combinedText += `\n\n# ERROR loading: ${urls[i]} (${err.message})\n`;
    }
    completed++;
    const percent = Math.floor((completed / urls.length) * 100);
    progressEl.textContent = `Loading filters... ${percent}%`;
  }

  contentEl.textContent = combinedText;
  lastFetchTime = new Date();
  updateLastUpdated();
  progressEl.textContent = "‚úÖ All filters loaded.";
}

function updateLastUpdated() {
  if (!lastFetchTime) {
    lastUpdatedEl.textContent = "Last updated: unknown";
    return;
  }
  const now = new Date();
  const diffSec = Math.floor((now - lastFetchTime) / 1000);

  let text = "";
  if (diffSec < 10) text = "just now";
  else if (diffSec < 60) text = `${diffSec} seconds ago`;
  else if (diffSec < 3600) text = `${Math.floor(diffSec / 60)} minutes ago`;
  else text = `${Math.floor(diffSec / 3600)} hours ago`;

  lastUpdatedEl.textContent = "Last updated: " + text;
}

copyBtn.addEventListener("click", () => {
  navigator.clipboard.writeText(contentEl.textContent).then(() => {
    copyMessage.style.visibility = "visible";
    setTimeout(() => copyMessage.style.visibility = "hidden", 2000);
  }).catch(() => alert("Clipboard copy failed"));
});

updateBtn.addEventListener("click", fetchAllFilters);

function createRipple(event) {
  const button = event.currentTarget;
  const circle = document.createElement("span");
  circle.classList.add("ripple");

  const rect = button.getBoundingClientRect();
  const size = Math.max(rect.width, rect.height);
  circle.style.width = circle.style.height = `${size}px`;
  circle.style.left = `${event.clientX - rect.left - size / 2}px`;
  circle.style.top = `${event.clientY - rect.top - size / 2}px`;

  button.appendChild(circle);
  setTimeout(() => circle.remove(), 600);
}

document.querySelectorAll(".ripple-button").forEach(btn => {
  btn.addEventListener("click", createRipple);
});

// Apply ripple to disclaimer
document.getElementById("disclaimerContainer").addEventListener("click", createRipple);

// Initial load
fetchAllFilters();

// Auto-update logic
setInterval(updateLastUpdated, 30000);
setInterval(fetchAllFilters, 10 * 60 * 1000);
</script>

</body>
</html>
